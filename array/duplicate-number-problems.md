# é‡å¤å…ƒç´ é—®é¢˜

## [217. å­˜åœ¨é‡å¤å…ƒç´  ğŸŸ¢](https://leetcode.cn/problems/contains-duplicate/description/)

é¢˜ç›®è¦æ±‚ï¼šåˆ¤æ–­åœ¨ç»™å®šæ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨é‡å¤å…ƒç´ ã€‚

### 1. æš´åŠ›æ³•ï¼ˆè¶…æ—¶ï¼‰

åŒå±‚å¾ªç¯éå†æ•°ç»„ï¼Œå¯¹äºæ¯ä¸ªå…ƒç´ ï¼Œåˆ¤æ–­å…¶åœ¨æ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨ç›¸åŒçš„å…ƒç´ ã€‚

``` js
var containsDuplicate = function(nums) {
  const n = nums.length;

  for (let i = 0; i < n - 1; i++) {
    for (let j = i + 1; j < n; j++) {
      if (nums[i] === nums[j]) return true;
    }
  }

  return false;
};
```

æ—¶é—´å¤æ‚åº¦ï¼šO(nÂ²)ï¼Œç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚

### 2. æ’åº ğŸ‘

å…ˆå¯¹æ•°ç»„è¿›è¡Œæ’åºï¼Œç„¶åæ£€æŸ¥ç›¸é‚»çš„å…ƒç´ æ˜¯å¦ç›¸åŒã€‚

``` js
var containsDuplicate = function(nums) {
  nums.sort((a, b) => a - b);

  for (let i = 1; i < nums.length; i++) {
    if (nums[i - 1] === nums[i]) return true;
  }

  return false;
};
```

æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn)ï¼Œç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚

### 3. å“ˆå¸Œè¡¨ ğŸ‘

éå†æ•°ç»„å…ƒç´ ï¼Œåˆ¤æ–­å½“å‰å…ƒç´ æ˜¯å¦å­˜åœ¨äºå“ˆå¸Œè¡¨ä¸­ï¼Œå¦‚æœä¸å­˜åœ¨ï¼Œå°†å…¶æ·»åŠ åˆ°å“ˆå¸Œè¡¨ä¸­ï¼Œå¦åˆ™æœ‰é‡å¤å…ƒç´ ã€‚

``` js
var containsDuplicate = function(nums) {
  const seen = new Set();

  for (const num of nums) {
    if (seen.has(num)) return true;
    seen.add(num);
  }

  return false;
};
```

æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œç©ºé—´å¤æ‚åº¦ï¼šO(n)ã€‚

## [219. å­˜åœ¨é‡å¤å…ƒç´  II ğŸŸ¢](https://leetcode.cn/problems/contains-duplicate-ii/description/)

é¢˜ç›®è¦æ±‚ï¼šåˆ¤æ–­åœ¨ç»™å®šæ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨é‡å¤å…ƒç´ å¹¶ä¸”é‡å¤å…ƒç´ çš„ç´¢å¼•å·®å°äºç­‰äº `k`ã€‚

### 1. æš´åŠ›æ³•ï¼ˆè¶…æ—¶ï¼‰

åŒå±‚å¾ªç¯éå†æ•°ç»„ï¼Œå¯¹äºæ¯ä¸ªå…ƒç´ ï¼Œåˆ¤æ–­åœ¨æ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨ç›¸åŒçš„å…ƒç´ ä¸”ç´¢å¼•å·®å°äºç­‰äº `k`ã€‚

``` js
var containsNearbyDuplicate = function(nums, k) {
  const n = nums.length;

  for (let i = 0; i < n; i++) {
    for (let j = i + 1; j < n; j++) {
      if (nums[i] === nums[j] && Math.abs(i - j) <= k) return true;
    }
  }

  return false;
};
```

æ—¶é—´å¤æ‚åº¦ï¼šO(nÂ²)ï¼Œç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚

### 2. å“ˆå¸Œè¡¨ ğŸ‘

ä½¿ç”¨å“ˆå¸Œè¡¨æ¥å­˜å‚¨æ¯ä¸ªå…ƒç´ çš„ç´¢å¼•ï¼Œå¦‚æœå‘ç°é‡å¤å…ƒç´ åˆ™åˆ¤æ–­å®ƒä»¬çš„ç´¢å¼•å·®æ˜¯å¦å°äºç­‰äº `k`ã€‚

``` js
var containsNearbyDuplicate = function(nums, k) {
  const n = nums.length;
  const map = new Map();

  for (let i = 0; i < n; i++) {
    const num = nums[i];
    if (map.has(num) && Math.abs(i - map.get(num)) <= k) return true;
    map.set(num, i);
  }

  return false;
};
```

æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œç©ºé—´å¤æ‚åº¦ï¼šO(n)ã€‚

### 3. å“ˆå¸Œè¡¨ + æ»‘åŠ¨çª—å£ ğŸ‘

ç»´æŠ¤ä¸€ä¸ªå¤§å°ä¸º `k` çš„æ»‘åŠ¨çª—å£è€Œæ— éœ€å°†æ‰€æœ‰å…ƒç´ å­˜å…¥å“ˆå¸Œè¡¨ä¸­ã€‚åœ¨éå†æ•°ç»„æ—¶ï¼Œå°†å…ƒç´ æ·»åŠ åˆ°é›†åˆä¸­ï¼Œå¦‚æœé›†åˆä¸­çš„å…ƒç´ è¶…è¿‡ `k` ä¸ªï¼Œå°±åˆ é™¤æœ€å·¦è¾¹çš„å…ƒç´ ï¼Œç›´åˆ°æ‰¾å‡ºé‡å¤å…ƒç´ ä¸ºæ­¢ã€‚

``` js
var containsNearbyDuplicate = function(nums, k) {
  const n = nums.length;
  const seen = new Set();

  for (let i = 0; i < n; i++) {
    if (seen.has(nums[i])) return true;
    seen.add(nums[i]);

    if (seen.size > k) seen.delete(nums[i - k]);
  }

  return false;
};
```

æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œç©ºé—´å¤æ‚åº¦ï¼šO(k)ã€‚

## [å‰‘æŒ‡ Offer 03 æ•°ç»„ä¸­é‡å¤çš„æ•°å­— ğŸŸ¢ â¤](https://leetcode.cn/problems/shu-zu-zhong-zhong-fu-de-shu-zi-lcof/description/)

é¢˜ç›®è¦æ±‚ï¼šåœ¨ä¸€ä¸ªåŒ…å« `n` ä¸ªæ•°ä¸”å…ƒç´ åœ¨ `[0, n - 1]` èŒƒå›´å†…çš„æ•°ç»„ä¸­ï¼Œæ‰¾å‡ºä»»æ„ä¸€ä¸ªé‡å¤çš„æ•°å­—ã€‚

### 1. æš´åŠ›æ³•ï¼ˆè¶…æ—¶ï¼‰

åŒå±‚å¾ªç¯éå†æ•°ç»„ï¼Œå¯¹äºæ¯ä¸ªå…ƒç´ ï¼Œåˆ¤æ–­å…¶åœ¨æ•°ç»„ä¸­æ˜¯å¦å­˜åœ¨ç›¸åŒçš„å…ƒç´ ã€‚

``` js
var findRepeatNumber = function (nums) {
  const n = nums.length;

  for (let i = 0; i < n - 1; i++) {
    for (let j = i + 1; j < n; j++) {
      if (nums[i] === nums[j]) return nums[i];
    }
  }
};
```

æ—¶é—´å¤æ‚åº¦ï¼šO(nÂ²)ï¼Œç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚

### 2. æ’åº ğŸ‘

å…ˆå°†æ•°ç»„è¿›è¡Œæ’åºï¼Œç„¶åæ£€æŸ¥ç›¸é‚»çš„å…ƒç´ æ˜¯å¦ç›¸åŒã€‚

``` js
var findRepeatNumber = function (nums) {
  nums.sort((a, b) => a - b);

  for (let i = 1; i < nums.length; i++) {
    if (nums[i - 1] === nums[i]) return nums[i];
  }
};
```

æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn)ï¼Œç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚

### 3. å“ˆå¸Œè¡¨ ğŸ‘

éå†æ•°ç»„å…ƒç´ ï¼Œåˆ¤æ–­å½“å‰å…ƒç´ æ˜¯å¦åœ¨å“ˆå¸Œè¡¨ä¸­ï¼Œå¦‚æœå­˜åœ¨åˆ™è¯¥å…ƒç´ å³ä¸ºé‡å¤æ•°å­—ï¼Œè¿”å›è¯¥æ•°å­—å³å¯ï¼›å¦‚æœå“ˆå¸Œè¡¨ä¸­ä¸å­˜åœ¨è¯¥å…ƒç´ ï¼Œåˆ™å°†å…¶åŠ å…¥å“ˆå¸Œè¡¨ã€‚ç»§ç»­éå†ï¼Œç›´åˆ°æ‰¾åˆ°é‡å¤æ•°å­—ä¸ºæ­¢ã€‚

``` js
var findRepeatNumber = function (nums) {
  const seen = new Set();

  for (const num of nums) {
    if (seen.has(num)) return num;
    seen.add(num);
  }
};
```

æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œç©ºé—´å¤æ‚åº¦ï¼šO(n)ã€‚

### 4. åŸåœ°å“ˆå¸Œ ğŸ‘

ç”±äºæ•°ç»„å…ƒç´ åœ¨ `[0, n - 1]` èŒƒå›´å†…ï¼Œå¯ä»¥å…ˆå°†å½“å‰å…ƒç´ ä¸å½“å‰å…ƒç´ ä½œä¸ºç´¢å¼•å¯¹åº”çš„å…ƒç´ è¿›è¡Œäº¤æ¢ï¼Œç„¶åéå†æ•°ç»„ï¼Œåˆ¤æ–­å½“å‰å…ƒç´ ä¸ç´¢å¼•æ˜¯å¦ç›¸åŒï¼Œå¦‚æœä¸åŒï¼Œåˆ™è¯´æ˜è¯¥å…ƒç´ æ˜¯é‡å¤æ•°å­—ã€‚

``` js
var findRepeatNumber = function (nums) {
  const n = nums.length;

  for (let i = 0; i < n; i++) {
    while (nums[i] !== nums[nums[i]]) {
      [nums[nums[i]], nums[i]] = [nums[i], nums[nums[i]]];
    }
  }
  for (let i = 0; i < n; i++) {
    if (nums[i] !== i) return nums[i];
  }
};
```

æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚

## [442. æ•°ç»„ä¸­é‡å¤çš„æ•°æ® ğŸŸ¡ â¤](https://leetcode.cn/problems/find-all-duplicates-in-an-array/description/)

é¢˜ç›®è¦æ±‚ï¼šåœ¨ä¸€ä¸ªåŒ…å« `n` ä¸ªæ•°ä¸”å…ƒç´ åœ¨ `[1, n]` èŒƒå›´å†…å…ƒç´ åªå‡ºç°ä¸€æ¬¡æˆ–ä¸¤æ¬¡çš„æ•°ç»„ä¸­ï¼Œæ‰¾å‡ºæ‰€æœ‰é‡å¤ä¸¤æ¬¡çš„æ•°å­—ã€‚

é™åˆ¶ï¼šå®ç°ç®—æ³•çš„æ—¶é—´å¤æ‚åº¦å¿…é¡»ä¸º `O(n)` å¹¶ä¸”åªèƒ½ä½¿ç”¨ `O(1)` é¢å¤–ç©ºé—´ã€‚

å¦‚æœæ²¡æœ‰é™åˆ¶æ¡ä»¶ï¼Œå¯ä»¥ä½¿ç”¨æš´åŠ›æ³•ã€æ’åºå’Œå“ˆå¸Œè¡¨æ¥è§£é¢˜ï¼Œå‰é¢çš„é¢˜ç›®å·²ç»å±•ç¤ºäº†è¿™äº›æ–¹æ³•çš„é¢˜è§£ï¼Œä»¥ä¸‹ä»…å±•ç¤ºç¬¦åˆé™åˆ¶æ¡ä»¶çš„é¢˜è§£ã€‚

### 1. åŸåœ°å“ˆå¸Œ ğŸ‘

å°†æ¯ä¸ªæ•°äº¤æ¢åˆ°ä»¥è¯¥æ•°ä½œä¸ºç´¢å¼•å¯¹åº”çš„ä½ç½®ä¸Šï¼Œç„¶åéå†æ•°ç»„ï¼Œå°†ä¸åœ¨æ­£ç¡®ä½ç½®çš„æ•°å­—è®°å½•ä¸ºé‡å¤çš„æ•°å­—ã€‚

``` js
var findDuplicates = function (nums) {
  const n = nums.length;
  const res = [];

  for (let i = 0; i < n; i++) {
    while (nums[i] !== nums[nums[i] - 1]) {
      [nums[nums[i] - 1], nums[i]] = [nums[i], nums[nums[i] - 1]];
    }
  }

  for (let i = 0; i < n; i++) {
    if (nums[i] !== i + 1) res.push(nums[i]);
  }

  return res;
};
```

æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚

### 2. æ ‡è®°æ³• ğŸ‘

ä»¥å½“å‰å…ƒç´ ä½œä¸ºç´¢å¼•ï¼Œå°†ç´¢å¼•å¯¹åº”çš„å…ƒç´ æ ‡è®°ä¸ºè´Ÿæ•°ï¼Œå†æ¬¡é‡åˆ°å½“å‰å…ƒç´ ä½œä¸ºç´¢å¼•å¯¹åº”çš„å…ƒç´ ä¸ºè´Ÿæ•°æ—¶ï¼Œåˆ™è¯´æ˜è¯¥å…ƒç´ æ˜¯é‡å¤çš„ï¼Œå°†å…¶è®°å½•ä¸ºé‡å¤å…ƒç´ ã€‚

``` js
var findDuplicates = function (nums) {
  const n = nums.length;
  const res = [];

  for (let i = 0; i < n; i++) {
    const index = Math.abs(nums[i]) - 1;

    if (nums[index] > 0) nums[index] = -nums[index];
    else res.push(Math.abs(nums[i]));
  }

  return res;
};
```

æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚

## [287. å¯»æ‰¾é‡å¤æ•° ğŸŸ¡ â¤](https://leetcode.cn/problems/find-the-duplicate-number/description/)

é¢˜ç›®è¦æ±‚ï¼šåœ¨ä¸€ä¸ªåŒ…å« `n + 1` ä¸ªæ•°ä¸”å…ƒç´ åœ¨ `[1, n]` èŒƒå›´å†…çš„æ•°ç»„ä¸­ï¼Œæ‰¾å‡ºå”¯ä¸€é‡å¤çš„æ•°ã€‚

é™åˆ¶ï¼šå®ç°çš„ç®—æ³•å¿…é¡»ä¸èƒ½ä¿®æ”¹æ•°ç»„ï¼Œå¹¶ä¸”åªèƒ½ä½¿ç”¨ `O(1)` çš„é¢å¤–ç©ºé—´ã€‚

å¦‚æœæ²¡æœ‰é™åˆ¶æ¡ä»¶ï¼Œå¹¶ä¸”ç©ºé—´å…è®¸ï¼Œå¯ä»¥ä½¿ç”¨å“ˆå¸Œè¡¨è§£é¢˜ï¼›å¦‚æœå¯ä»¥ä¿®æ”¹åŸæ•°ç»„ï¼Œå¯ä»¥ä½¿ç”¨æ’åºã€åŸåœ°å“ˆå¸Œå’Œæ ‡è®°æ³•è§£é¢˜ã€‚ä»¥ä¸‹ä»…å±•ç¤ºç¬¦åˆé™åˆ¶æ¡ä»¶çš„é¢˜è§£ï¼Œå…¶å®ƒé¢˜è§£è¯·å‚è€ƒä¸Šé¢çš„é¢˜è§£ã€‚

### 1. äºŒåˆ†æŸ¥æ‰¾ ğŸ‘

æ—¢ç„¶ä½¿ç”¨æš´åŠ›æ³•ä¼šè¶…æ—¶ï¼Œæˆ‘ä»¬å¯ä»¥ä½¿ç”¨äºŒåˆ†æŸ¥æ‰¾æ¥ä¼˜åŒ–æŸ¥è¯¢æ•ˆç‡ã€‚

æ ¹æ®ç´¢å¼•åˆ©ç”¨äºŒåˆ†æ€æƒ³ã€‚å¦‚æœ `[1, mid]` ä¸­çš„æ•°å­—ä¸ªæ•°å¤§äºç´¢å¼• `mid`ï¼Œé‚£ä¹ˆé‡å¤çš„æ•°å­—ä¸€å®šåœ¨ `[1, mid]` ä¸­ï¼Œå¦åˆ™é‡å¤çš„æ•°å­—ä¸€å®šåœ¨ `[mid + 1, n]` ä¸­ã€‚æ¯æ¬¡åˆ¤æ–­ `[1, mid]` ä¸­çš„æ•°å­—ä¸ªæ•°æ˜¯å¦å¤§äºç´¢å¼• `mid`ï¼Œä»è€Œç¡®å®šé‡å¤çš„æ•°å­—åœ¨å“ªä¸ªåŒºé—´ä¸­ï¼Œè¿›è€Œç¼©å°æŸ¥æ‰¾èŒƒå›´ï¼Œç›´åˆ°æ‰¾åˆ°é‡å¤çš„æ•°å­—ä¸ºæ­¢ã€‚

``` js
var findDuplicate = function (nums) {
  let lo = 0;
  let hi = nums.length - 1;

  while (lo < hi) {
    const mid = Math.floor((lo + hi) / 2);
    let count = 0;

    for (const num of nums) {
      if (num <= mid) count++;
    }

    if (count > mid) hi = mid;
    else lo = mid + 1;
  }

  return lo;
};
```

æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn)ï¼Œç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚

### 2. å¿«æ…¢æŒ‡é’ˆï¼ˆFloyd åˆ¤åœˆç®—æ³•ï¼‰ğŸ‘

å°†æ•°ç»„çœ‹åšæ˜¯ç¯å½¢é“¾è¡¨ï¼Œé‡å¤çš„æ•°å­—å°±æ˜¯ç¯çš„å…¥å£ã€‚ä½¿ç”¨å¿«æ…¢æŒ‡é’ˆï¼Œæ…¢æŒ‡é’ˆæ¯æ¬¡èµ°ä¸€æ­¥ï¼Œå¿«æŒ‡é’ˆæ¯æ¬¡èµ°ä¸¤æ­¥ï¼Œå¦‚æœæ…¢æŒ‡é’ˆå’Œå¿«æŒ‡é’ˆç›¸é‡ï¼Œè¯´æ˜æœ‰ç¯ï¼›ç„¶åå°†æ…¢æŒ‡é’ˆé‡æ–°ç½®ä¸ºèµ·ç‚¹ï¼Œä¸¤æŒ‡é’ˆæ¯æ¬¡åŒæ—¶èµ°ä¸€æ­¥ï¼Œå†æ¬¡ç›¸é‡åˆ™ä¸ºé‡å¤çš„æ•°å­—ã€‚

``` js
var findDuplicate = function (nums) {
  let slow = 0;
  let fast = 0;

  do {
    slow = nums[slow];
    fast = nums[nums[fast]];
  } while (slow !== fast);

  slow = 0;

  while (slow !== fast) {
    slow = nums[slow];
    fast = nums[fast];
  }

  return slow;
};
```

æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚

## [å‰‘æŒ‡ Offer 61 æ‰‘å…‹ç‰Œä¸­çš„é¡ºå­ ğŸŸ¢](https://leetcode.cn/problems/bu-ke-pai-zhong-de-shun-zi-lcof/description/)

é¢˜ç›®è¦æ±‚ï¼šä»è‹¥å¹²æ‰‘å…‹ç‰Œä¸­éšæœºæŠ½ `5` å¼ ç‰Œï¼Œåˆ¤æ–­æ˜¯ä¸æ˜¯é¡ºå­ï¼Œå³è¿™ `5` å¼ ç‰Œæ˜¯å¦è¿ç»­ã€‚

### 1. å“ˆå¸Œè¡¨ ğŸ‘

åˆ©ç”¨å“ˆå¸Œè¡¨è®°å½•å‡ºç°çš„æ•°å­—ã€‚å¦‚æœé‡åˆ°å¤§å°ç‹ï¼Œåˆ™è·³è¿‡ã€‚å¦‚æœå‡ºç°é‡å¤å…ƒï¼Œåˆ™ä¸å¯èƒ½æ„æˆé¡ºå­ã€‚è®°å½•æœ€å°å€¼å’Œæœ€å¤§å€¼ï¼Œå¦‚æœæœ€å¤§å€¼å’Œæœ€å°å€¼ä¹‹é—´çš„å·®å€¼å°äº `5`ï¼Œåˆ™è¯´æ˜å¯ä»¥æ„æˆé¡ºå­ã€‚

``` js
var isStraight = function (nums) {
  const seen = new Set();
  let min = 14;
  let max = 0;

  for (const num of nums) {
    if (num === 0) continue; // è·³è¿‡å¤§å°ç‹

    if (seen.has(num)) return false; // å¤„ç†é‡å¤å…ƒç´ 
    seen.add(num);

    min = Math.min(min, num);
    max = Math.max(max, num);
  }

  return max - min < 5;
};
```

æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚

### 2. æ’åº ğŸ‘

å…ˆå¯¹æ•°ç»„è¿›è¡Œæ’åºï¼Œç„¶åæ£€æŸ¥æ˜¯å¦å¯ä»¥é€šè¿‡å¤§å°ç‹æ¥è¡¥é½è¿ç»­çš„æ•°å­—ï¼Œå¹¶æ£€æŸ¥æ˜¯å¦æœ‰é‡å¤çš„æ‰‘å…‹ç‰Œï¼Œæœ€åæ£€æŸ¥æœ€å¤§å€¼å’Œæœ€å°å€¼ä¹‹é—´çš„å·®å€¼æ˜¯å¦å°äº `5`ã€‚

``` js
var isStraight = function (nums) {
  nums.sort((a, b) => a - b);

  const n = nums.length;
  let joker = 0;

  for (let i = 0; i < n - 1; i++) {
    if (nums[i] === 0) {
      joker++;
      continue; // è®°å½•å¤§å°ç‹å¹¶è·³è¿‡
    }

    if (nums[i] === nums[i + 1]) return false; // å¤„ç†é‡å¤å…ƒç´ 
  }

  return nums[n - 1] - nums[joker] < 5;
};
```

æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn)ï¼Œç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚

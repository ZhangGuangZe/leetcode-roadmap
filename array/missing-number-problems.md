# ç¼ºå¤±å…ƒç´ é—®é¢˜

## [268. ä¸¢å¤±çš„æ•°å­— ğŸŸ¢ â¤](https://leetcode.cn/problems/missing-number/description/)

é¢˜ç›®è¦æ±‚ï¼šåœ¨ä¸€ä¸ªåŒ…å« `n` ä¸ªæ•°ä¸”å…ƒç´ åœ¨ `[0, n]` åŒºé—´çš„æ•°ç»„ä¸­ï¼Œæ‰¾å‡ºç¼ºå¤±çš„é‚£ä¸ªæ•°å­—ã€‚

### 1. æš´åŠ›æ³•

å¯¹äº `[0, n]` åŒºé—´å†…çš„æ¯ä¸€ä¸ªæ•°å­—ï¼Œæˆ‘ä»¬éå†æ•°ç»„ï¼Œæ£€æŸ¥å½“å‰æ•°å­—æ˜¯å¦å­˜åœ¨æ•°ç»„ä¸­ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™è¯¥æ•°å­—å°±æ˜¯ä¸¢å¤±çš„æ•°å­—ã€‚

``` js
var missingNumber = function(nums) {
  for (let i = 0; i <= nums.length; i++) {
    let flag = false;

    for (const num of nums) {
      if (i === num) {
        flag = true;
        break;
      }
    }

    if (!flag) return i;
  }
};
```

æ—¶é—´å¤æ‚åº¦ï¼šO(nÂ²)ï¼Œç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚

### 2. æ’åº

ä¸ºäº†ä¼˜åŒ–æ€§èƒ½ï¼Œæˆ‘ä»¬å¯ä»¥å…ˆå¯¹æ•°ç»„è¿›è¡Œæ’åºï¼Œç„¶åéå†æ•°ç»„ï¼Œå¦‚æœå½“å‰æ•°å­—ä¸æ•°ç»„å…ƒç´ ä¸å¯¹åº”åˆ™è¯¥æ•°å­—å³ä¸ºä¸¢å¤±çš„æ•°å­—ã€‚

``` js
var missingNumber = function(nums) {
  nums.sort((a, b) => a - b);

  for (let i = 0; i <= nums.length; i++) {
    if (i !== nums[i]) return i;
  }
};
```

æ—¶é—´å¤æ‚åº¦ï¼šO(nlogn)ï¼Œç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚

### 3. å“ˆå¸Œè¡¨

å…ˆå°†æ‰€æœ‰æ•°å­—å­˜å…¥å“ˆå¸Œè¡¨ä¸­ï¼Œç„¶ååœ¨ `[0, n]` åŒºé—´å†…æŸ¥æ‰¾ä¸åœ¨é›†åˆä¸­çš„æ•°å­—ã€‚

``` js
var missingNumber = function(nums) {
  const seen = new Set(nums);

  for (let i = 0; i <= nums.length; i++) {
    if (!seen.has(i)) return i;
  }
};
```

æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œç©ºé—´å¤æ‚åº¦ï¼šO(n)ã€‚

### 4. ä½è¿ç®— ğŸ‘

åˆ©ç”¨ä½è¿ç®—ä¸­å¼‚æˆ–è¿ç®—çš„ç‰¹æ€§ï¼šç›¸åŒçš„æ•°å­—å¼‚æˆ–ä¸º 0ï¼Œä»»ä½•æ•°ä¸ 0 å¼‚æˆ–ä¸ºå…¶è‡ªèº«ã€‚éå†æ•°ç»„å…ƒç´ ï¼Œæ¶ˆé™¤ç›¸åŒçš„æ•°å­—ï¼Œæœ€åå‰©ä¸‹çš„æ•°å­—å³ä¸ºä¸¢å¤±çš„æ•°å­—ã€‚

``` js
var missingNumber = function(nums) {
  const n = nums.length;
  let res = n;

  for (let i = 0; i < n; i++) {
    res ^= i ^ nums[i];
  }

  return res;
};
```

æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚

### 5. æ•°å­¦ ğŸ‘

åˆ©ç”¨é«˜æ–¯æ±‚å’Œå…¬å¼è®¡ç®— `[0, n]` åŒºé—´æ‰€æœ‰æ•°å­—çš„æ€»å’Œï¼Œç„¶åå‡å»æ•°ç»„ä¸­æ‰€æœ‰æ•°å­—çš„æ€»å’Œå¾—åˆ°çš„å³ä¸ºä¸¢å¤±çš„æ•°å­—ã€‚

``` js
var missingNumber = function(nums) {
  const n = nums.length;
  return (n * (n + 1) / 2) - nums.reduce((a, b) => a + b, 0);
};
```

æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚

## 448. [æ‰¾åˆ°æ‰€æœ‰æ•°ç»„ä¸­æ¶ˆå¤±çš„æ•°å­— ğŸŸ¢](https://leetcode.cn/problems/find-all-numbers-disappeared-in-an-array/description/)

é¢˜ç›®è¦æ±‚ï¼šåœ¨ä¸€ä¸ªåŒ…å« `n` ä¸ªæ•°ä¸”å…ƒç´ åœ¨ `[1, n]` åŒºé—´çš„æ•°ç»„ä¸­ï¼Œæ‰¾å‡ºç¼ºå¤±çš„æ‰€æœ‰æ•°å­—ã€‚

### 1. æš´åŠ›æ³•ï¼ˆè¶…æ—¶ï¼‰

å¯¹äº `[1, n]` åŒºé—´å†…çš„æ¯ä¸€ä¸ªæ•°å­—ï¼Œæˆ‘ä»¬éå†æ•°ç»„ï¼Œæ£€æŸ¥å½“å‰æ•°å­—æ˜¯å¦å­˜åœ¨æ•°ç»„ä¸­ï¼Œå¦‚æœä¸åœ¨æ•°ç»„ä¸­åˆ™å°†å…¶è®°å½•ä¸ºæ¶ˆå¤±çš„æ•°å­—ã€‚

``` js
var findDisappearedNumbers = function(nums) {
  const n = nums.length;
  const res = [];

  for (let i = 1; i <= n; i++) {
    let flag = false;

    for (const num of nums) {
      if (i === num) {
        flag = true;
        break;
      }
    }

    if (!flag) res.push(i);
  }

  return res;
};
```

æ—¶é—´å¤æ‚åº¦ï¼šO(nÂ²)ï¼Œç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚

### 2. å“ˆå¸Œè¡¨

åˆ©ç”¨ç©ºé—´æ¢æ—¶é—´çš„æ€æƒ³ã€‚å…ˆå°†æ‰€æœ‰æ•°å­—å­˜å…¥å“ˆå¸Œè¡¨ä¸­ï¼Œç„¶ååœ¨ `[1, n]` ä¹‹é—´æŸ¥æ‰¾ä¸åœ¨é›†åˆä¸­çš„æ•°å­—ï¼Œå°†å…¶è®°å½•ä¸ºæ¶ˆå¤±çš„æ•°å­—ã€‚

``` js
var findDisappearedNumbers = function(nums) {
  const seen = new Set(nums);
  const res = [];

  for (let i = 1; i <= nums.length; i++) {
    if (!seen.has(i)) res.push(i);
  }

  return res;
};
```

æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œç©ºé—´å¤æ‚åº¦ï¼šO(n)ã€‚

### 3. åŸåœ°å“ˆå¸Œ ğŸ‘

â€œä¸€ä¸ªèåœä¸€ä¸ªå‘â€ï¼Œä»¥ç´¢å¼•ä½œä¸ºå“ˆå¸Œè¡¨çš„é”®ï¼Œå…ƒç´ ä½œä¸ºå“ˆå¸Œè¡¨çš„å€¼ã€‚å…ˆå°†å…ƒç´ ä¸ç´¢å¼•ä¸å¯¹åº”çš„å…ƒç´ åŸåœ°äº¤æ¢åˆ°å¯¹åº”ä½ç½®ï¼Œç„¶åéå†æ•°ç»„ï¼Œå°†ä¸æ•°ç»„å…ƒç´ ä¸å¯¹åº”çš„æ•°å­—è®°å½•ä¸ºæ¶ˆå¤±çš„æ•°å­—ã€‚

``` js
var findDisappearedNumbers = function(nums) {
  const n = nums.length;
  const res = [];

  for (let i = 0; i < n; i++) {
    while (nums[i] !== nums[nums[i] - 1]) {
      [nums[nums[i] - 1], nums[i]] = [nums[i], nums[nums[i] - 1]]; // åŸåœ°äº¤æ¢
    }
  }

  for (let i = 0; i < n; i++) {
    if (nums[i] !== i + 1) res.push(i + 1);
  }

  return res;
};
```

æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚

### 4. æ ‡è®°æ³• ğŸ‘

é€šè¿‡æ ‡è®°æ•°ç»„å…ƒç´ çš„æ–¹å¼ï¼Œå°†å‡ºç°è¿‡çš„æ•°å­—å¯¹åº”ç´¢å¼•çš„å…ƒç´ æ ‡è®°ä¸ºè´Ÿæ•°ï¼Œç„¶åéå†æ•°ç»„ï¼Œå°†æœªæ ‡è®°ï¼ˆå¤§äº `0`ï¼‰çš„å…ƒç´ è®°å½•ä¸ºæ¶ˆå¤±çš„æ•°å­—ã€‚

``` js
var findDisappearedNumbers = function(nums) {
  const n = nums.length;
  const res = [];

  for (let i = 0; i < n; i++) {
    const index = Math.abs(nums[i]) - 1;
    if (nums[index] > 0) nums[index] = -nums[index]; // åŸåœ°æ ‡è®°ä¸ºè´Ÿæ•°
  }

  for (let i = 0; i < n; i++) {
    if (nums[i] > 0) res.push(i + 1);
  }

  return res;
};
```

ä¹Ÿå¯ä»¥å°†å‡ºç°è¿‡çš„æ•°å­—å¯¹åº”ç´¢å¼•çš„å…ƒç´ æ ‡è®°ä¸ºå¤§äº `n` çš„æ•°ï¼Œå°†æœªæ ‡è®°ï¼ˆå°äºç­‰äº `n`ï¼‰çš„å…ƒç´ è®°å½•ä¸ºæ¶ˆå¤±çš„æ•°å­—ã€‚

``` js
var findDisappearedNumbers = function(nums) {
  const n = nums.length;
  const res = [];

  for (let i = 0; i < n; i++) {
    const index = (nums[i] - 1) % n;
    nums[index] += n; // åŸåœ°æ ‡è®°ä¸ºå¤§äº n çš„æ•°
  }

  for (let i = 0; i < n; i++) {
    if (nums[i] <= n) res.push(i + 1);
  }

  return res;
};
```

æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚

## [41. ç¼ºå¤±çš„ç¬¬ä¸€ä¸ªæ­£æ•° ğŸ”´](https://leetcode.cn/problems/first-missing-positive/)

é¢˜ç›®è¦æ±‚ï¼šåœ¨ä¸€ä¸ªæœªæ’åºçš„æ•´æ•°æ•°ç»„ä¸­ï¼Œæ‰¾å‡ºç¼ºå¤±çš„ç¬¬ä¸€ä¸ªæ­£æ•´æ•°ã€‚

é™åˆ¶ï¼šè®¾è®¡çš„ç®—æ³•æ—¶é—´å¤æ‚åº¦ä¸º `O(n)` å¹¶ä¸”åªèƒ½ä½¿ç”¨å¸¸æ•°çº§åˆ«çš„é¢å¤–ç©ºé—´ã€‚

æ²¡æœ‰å‡ºç°çš„æ­£æ•´æ•°åœ¨ `[1, n + 1]` åŒºé—´å†…ï¼Œå¦‚æœ 1 ~ n ä¹‹é—´çš„æ­£æ•´æ•°éƒ½å‡ºç°äº†ï¼Œé‚£ä¹ˆç¼ºå¤±çš„æ­£æ•´æ•°å°±æ˜¯ `n + 1`ï¼Œå¦åˆ™ç¼ºå¤±çš„æ­£æ•´æ•°åœ¨ 1 ~ n ä¹‹é—´ã€‚

### 1. æš´åŠ›æ³•ï¼ˆè¶…æ—¶ä¸”ä¸ç¬¦åˆæ—¶é—´å¤æ‚åº¦é™åˆ¶ï¼‰

ä» 1 å¼€å§‹æ£€æŸ¥å½“å‰æ­£æ•´æ•°æ˜¯å¦å­˜åœ¨äºæ•°ç»„ä¸­ï¼Œç›´åˆ°æ‰¾åˆ°ç¬¬ä¸€ä¸ªç¼ºå¤±çš„æ­£æ•´æ•°ä¸ºæ­¢ã€‚

``` js
var firstMissingPositive = function(nums) {
  const n = nums.length;

  for (let i = 1; i <= n; i++) {
    let flag = false;

    for (const num of nums) {
      if (i === num) {
        flag = true;
        break;
      }
    }

    if (!flag) return i;
  }

  return n + 1;
};
```

æ—¶é—´å¤æ‚åº¦ï¼šO(nÂ²)ï¼Œç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚

### 2. å“ˆå¸Œè¡¨ï¼ˆä¸ç¬¦åˆç©ºé—´å¤æ‚åº¦é™åˆ¶ï¼‰

å°†æ•°ç»„æ‰€æœ‰å…ƒç´ å­˜å…¥å“ˆå¸Œè¡¨ä¸­ï¼Œç„¶åä» 1 å¼€å§‹éå†æ•°ç»„ï¼Œåˆ¤æ–­å½“å‰æ•°å­—æ˜¯å¦åœ¨å“ˆå¸Œè¡¨ä¸­ã€‚

``` js
var firstMissingPositive = function(nums) {
  const n = nums.length;
  const seen = new Set(nums);

  for (let i = 1; i <= n; i++) {
    if (!seen.has(i)) return i;
  }

  return n + 1;
};
```

æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œç©ºé—´å¤æ‚åº¦ï¼šO(n)ã€‚

### 3. åŸåœ°å“ˆå¸Œ ğŸ‘

å…ˆå°† `[1, n]` åŒºé—´å†…çš„æ‰€æœ‰å…ƒç´ åŸåœ°äº¤æ¢åˆ°ç´¢å¼•å¯¹åº”ä½ç½®ï¼Œç„¶åéå†æ•°ç»„ï¼Œæ‰¾å‡ºç¬¬ä¸€ä¸ªä¸åœ¨å¯¹åº”ä½ç½®çš„å…ƒç´ å³ä¸ºç¼ºå¤±çš„æ­£æ•°ã€‚

``` js
var firstMissingPositive = function(nums) {
  const n = nums.length;

  for (let i = 0; i < n; i++) {
    while (nums[i] > 0 && nums[i] <= n && nums[i] !== nums[nums[i] - 1]) {
      [nums[nums[i] - 1], nums[i]] = [nums[i], nums[nums[i] - 1]];
    }
  }

  for (let i = 0; i < n; i++) {
    if (nums[i] !== i + 1) return i + 1;
  }

  return n + 1;
};
```

æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚

### 4. æ ‡è®°æ³• ğŸ‘

ç”±äºæ•°ç»„ä¸­å­˜åœ¨ `0` å’Œéè´Ÿæ•´æ•°ï¼Œéœ€è¦å°†å®ƒä»¬æ ‡è®°ä¸º `n + 1` çš„æ­£æ•´æ•°ã€‚ç„¶åå°† `[1, n]` åŒºé—´å†…çš„æ‰€æœ‰å…ƒç´ æ ‡è®°è´Ÿæ•°ï¼Œæœ€åéå†æ•°ç»„ï¼Œæ‰¾å‡ºç¬¬ä¸€ä¸ªæœªæ ‡è®°çš„ä½ç½®å³ä¸ºç¬¬ä¸€ä¸ªç¼ºå¤±çš„æ­£æ•°ã€‚

``` js
var firstMissingPositive = function(nums) {
  const n = nums.length;

  for (let i = 0; i < n; i++) {
    if (nums[i] <= 0) nums[i] = n + 1; // åŸåœ°æ ‡è®°éæ­£æ•´æ•°
  }

  for (let i = 0; i < n; i++) {
    const index = Math.abs(nums[i]) - 1;
    if (index >= n) continue;
    if (nums[index] > 0) nums[index] = -nums[index]; // åŸåœ°æ ‡è®°æ­£æ•´æ•°
  }

  for (let i = 0; i < n; i++) {
    if (nums[i] > 0) return i + 1;
  }

  return n + 1;
};
```

æ—¶é—´å¤æ‚åº¦ï¼šO(n)ï¼Œç©ºé—´å¤æ‚åº¦ï¼šO(1)ã€‚

